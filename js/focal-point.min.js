!function(t){var e=t("img.js-focal-point-image");t(window).on("load",function(){e.css("max-width","none").responsify()}).on("resize",function(){e.responsify()}),t.fn.responsify=function(){return this.each(function(){var e,i,o,n,a,r,s,f,h,u,c,d,p=t(this);if(e=p.width(),i=p.height(),o=p.parent().width(),n=p.parent().height(),a=Number(p.attr("data-focus-left")),r=Number(p.attr("data-focus-top")),s=Number(p.attr("data-focus-right")),f=Number(p.attr("data-focus-bottom")),e/i>o/n){var m=(s-a)*e;m/i>o/n?(u=i*o/m,h=e*o/m,d=-a*h,c=(n-u)/2):(u=n,h=n*e/i,d=o/2-(a+s)*h/2,d=d>0?0:d,d=o-d-h>0?o-h:d,c=0)}else{var l=(f-r)*i;l/e>n/o?(h=e*n/l,u=i*n/l,c=-r*u,d=(o-h)/2):(h=o,u=o*i/e,c=n/2-(r+f)*u/2,c=c>0?0:c,c=n-c-u>0?n-u:c,d=0)}p.parent().css({overflow:"hidden"}),p.css({position:"relative",height:u,width:h,left:d,top:c})})}}(jQuery);
